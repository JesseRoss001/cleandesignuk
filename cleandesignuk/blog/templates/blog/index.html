
{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/blog.css' %}">
{% endblock %}

{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">


<div class="hero text-center my-3 my-md-4 my-lg-5 animate__animated animate__fadeIn">
    <div>
        <h1>Our <span>Blog</span></h1>
        <p>Stay updated with the latest trends and insights.</p>
        <form method="GET" action="">
            <div class="input-group mb-3 w-75">
                <input type="text" name="q" placeholder="Search blog posts..." value="{{ request.GET.q }}" class="form-control">
                <button class="btn btn-outline-danger" type="submit">Search</button>
            </div>
        </form>
    </div>
</div>

<div class="container mt-5">
    <div class="row d-flex justify-content-center align-items-center">
        {% for post in posts %}
        <div class="col-10 col-md-5 col-lg-4 col-xl-3 p-2 animate__animated animate__fadeInUp">
            <div class="blog-card">
                {% if post.image %}
                <div class="card-image">
                    <img src="{{ post.image.url }}" alt="{{ post.title }}">
                </div>
                {% endif %}
                <div class="card-content">
                    <h5 class="card-title">{{ post.title }}</h5>
                    <p class="card-date text-muted">{{ post.date_published }}</p> <!-- Assuming date_published is available -->
                    <p class="card-text text-center">{{ post.content|truncatewords:20|safe }}</p>
                    <a href="{% url 'blog:blog_detail' post.pk %}" class="btn btn-danger">Read More</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

{% endblock %}
